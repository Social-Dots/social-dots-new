{% load static %}
<!-- Modern Testimonials Section -->
<section class="py-24 bg-white relative overflow-hidden">
    <!-- Floating Background Elements -->
    <div class="absolute inset-0 pointer-events-none">
        <div class="absolute top-20 left-10 w-32 h-32 bg-blue-100 rounded-full opacity-30 animate-float"></div>
        <div class="absolute top-40 right-20 w-24 h-24 bg-gold opacity-20 rounded-full animate-float-delayed"></div>
        <div class="absolute bottom-32 left-1/4 w-40 h-40 bg-blue-50 rounded-full opacity-40 animate-float-slow"></div>
        <div class="absolute bottom-20 right-1/3 w-28 h-28 bg-gold opacity-15 rounded-full animate-float"></div>
    </div>
    
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <!-- Enhanced Header Section -->
        <div class="text-center mb-20">
            <div class="inline-flex items-center justify-center p-2 bg-blue-50 rounded-full mb-6">
                <div class="bg-blue-600 text-white p-3 rounded-full">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M4.583 17.321C3.553 16.227 3 15 3 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 01-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179zm10 0C13.553 16.227 13 15 13 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 01-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179z"/>
                    </svg>
                </div>
            </div>
            <h2 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6 text-blue-900 leading-tight">
                What Our <span class="text-gold">Clients</span> Say
            </h2>
            <p class="text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed mb-8">
                Discover the experiences and success stories from our valued clients who have transformed their businesses with our innovative solutions.
            </p>
            <div class="flex items-center justify-center space-x-2">
                <div class="w-12 h-1 bg-blue-600 rounded-full"></div>
                <div class="w-3 h-3 bg-gold rounded-full"></div>
                <div class="w-12 h-1 bg-blue-600 rounded-full"></div>
            </div>
        </div>
        
        <!-- Enhanced Styling with Animations -->
        <style>
            /* Floating Animations */
            @keyframes float {
                0%, 100% { transform: translateY(0px) rotate(0deg); }
                50% { transform: translateY(-20px) rotate(5deg); }
            }
            @keyframes float-delayed {
                0%, 100% { transform: translateY(0px) rotate(0deg); }
                50% { transform: translateY(-15px) rotate(-3deg); }
            }
            @keyframes float-slow {
                0%, 100% { transform: translateY(0px) rotate(0deg); }
                50% { transform: translateY(-10px) rotate(2deg); }
            }
            .animate-float { animation: float 6s ease-in-out infinite; }
            .animate-float-delayed { animation: float-delayed 8s ease-in-out infinite 2s; }
            .animate-float-slow { animation: float-slow 10s ease-in-out infinite 1s; }
            
            /* Swiper Enhancements */
            .testimonials-swiper {
                width: 100%;
                padding-bottom: 60px;
                overflow: hidden;
                margin: 0 auto;
            }
            .swiper-wrapper {
                align-items: stretch;
            }
            .swiper-slide {
                height: auto;
                transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            }
            .swiper-slide:not(.swiper-slide-active) {
                transform: scale(0.95);
                opacity: 0.8;
            }
            .swiper-slide-active {
                transform: scale(1);
                opacity: 1;
            }
            
            /* Ensure proper card display */
            @media (min-width: 1024px) {
                .testimonials-swiper {
                    padding-left: 0;
                    padding-right: 0;
                    max-width: 1400px;
                }
                .swiper-slide {
                    flex-shrink: 0;
                    width: calc(33.333% - 10px) !important;
                    margin-right: 15px;
                }
                .swiper-slide:last-child {
                    margin-right: 0;
                }
            }
            
            /* Mobile and tablet adjustments */
            @media (max-width: 767px) {
                .swiper-slide {
                    width: 100% !important;
                }
            }
            
            @media (min-width: 768px) and (max-width: 1023px) {
                .swiper-slide {
                    width: calc(50% - 8px) !important;
                    margin-right: 15px;
                }
                .swiper-slide:nth-child(even) {
                    margin-right: 0;
                }
            }
            
            /* Custom Navigation */
            .swiper-button-next, .swiper-button-prev {
                width: 50px;
                height: 50px;
                background: white;
                border-radius: 50%;
                box-shadow: 0 10px 25px rgba(0,0,0,0.1);
                color: #1e40af;
                transition: all 0.3s ease;
                border: 2px solid #e5e7eb;
            }
            .swiper-button-next:hover, .swiper-button-prev:hover {
                background: #1e40af;
                color: white;
                transform: scale(1.1);
                box-shadow: 0 15px 35px rgba(30,64,175,0.3);
            }
            .swiper-button-next::after, .swiper-button-prev::after {
                font-size: 16px;
                font-weight: bold;
            }
            
            /* Custom Pagination */
            .swiper-pagination-bullet {
                width: 12px;
                height: 12px;
                background: #d1d5db;
                opacity: 1;
                transition: all 0.3s ease;
            }
            .swiper-pagination-bullet-active {
                background: #DDA853;
                transform: scale(1.3);
            }
            
            /* Enhanced Card Hover Effects */
            .testimonial-card {
                transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                transform-origin: center;
                cursor: pointer;
                position: relative;
            }
            .testimonial-card:hover {
                transform: translateY(-8px) scale(1.02);
                box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            }
            .testimonial-card:focus-within {
                outline: 3px solid #3b82f6;
                outline-offset: 2px;
            }
            
            /* Sophisticated Micro-interactions */
            .testimonial-card::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                 bottom: 0;
                 background: rgba(59, 130, 246, 0.05);
                 opacity: 0;
                 transition: opacity 0.3s ease;
                border-radius: 1rem;
                pointer-events: none;
            }
            .testimonial-card:hover::before {
                opacity: 1;
            }
            
            /* Quote Icon Enhancements */
            @keyframes quote-pulse {
                0%, 100% { transform: scale(1) rotate(0deg); }
                50% { transform: scale(1.1) rotate(5deg); }
            }
            .quote-icon {
                animation: quote-pulse 3s ease-in-out infinite;
                transition: all 0.3s ease;
            }
            .testimonial-card:hover .quote-icon {
                transform: scale(1.2) rotate(10deg);
                animation-play-state: paused;
            }
            
            /* Enhanced Star Rating Interactions */
            .star-rating {
                position: relative;
            }
            .star-rating svg {
                transition: all 0.2s ease;
                cursor: pointer;
            }
            .star-rating:hover svg {
                transform: scale(1.15) rotate(10deg);
            }
            .star-rating svg:hover ~ svg {
                transform: scale(0.9);
                opacity: 0.7;
            }
            
            /* Client Image Hover Effects */
            .client-image-container {
                transition: all 0.3s ease;
                position: relative;
                overflow: hidden;
            }
            .client-image-container:hover {
                transform: scale(1.05);
            }
            .client-image-container::after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(59, 130, 246, 0.1);
                opacity: 0;
                transition: opacity 0.3s ease;
                border-radius: 50%;
            }
            .client-image-container:hover::after {
                opacity: 1;
            }
            
            /* Trust Badge Animation */
            .trust-badge {
                transition: all 0.3s ease;
            }
            .trust-badge:hover {
                transform: translateX(5px);
                color: #059669;
            }
            
            /* Navigation Button Enhancements */
            .swiper-button-next, .swiper-button-prev {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                position: relative;
                overflow: hidden;
            }
            .swiper-button-next::before, .swiper-button-prev::before {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                width: 0;
                height: 0;
                background: rgba(59, 130, 246, 0.2);
                border-radius: 50%;
                transform: translate(-50%, -50%);
                transition: all 0.4s ease;
            }
            .swiper-button-next:hover::before, .swiper-button-prev:hover::before {
                width: 100px;
                height: 100px;
            }
            
            /* Pagination Bullet Enhancements */
            .swiper-pagination-bullet {
                position: relative;
                overflow: hidden;
            }
            .swiper-pagination-bullet::before {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                width: 0;
                height: 0;
                background: rgba(221, 168, 83, 0.3);
                border-radius: 50%;
                transform: translate(-50%, -50%);
                transition: all 0.3s ease;
            }
            .swiper-pagination-bullet:hover::before {
                width: 20px;
                height: 20px;
            }
            
            /* Text Selection Effects */
            .testimonial-content {
                position: relative;
            }
            .testimonial-content::selection {
                background: rgba(59, 130, 246, 0.2);
                color: #1e40af;
            }
            
            /* Loading State Animation */
            @keyframes shimmer {
                0% { background-position: -200px 0; }
                100% { background-position: calc(200px + 100%) 0; }
            }
            .loading-shimmer {
            background: #f0f0f0;
                background-size: 200px 100%;
                animation: shimmer 1.5s infinite;
            }
            
            /* Responsive Design Optimizations */
            
            /* Mobile First Approach - Base styles for mobile */
            @media (max-width: 640px) {
                .testimonials-section {
                    padding: 3rem 1rem;
                }
                
                .section-header h2 {
                    font-size: 2rem;
                    line-height: 1.2;
                }
                
                .section-header p {
                    font-size: 1rem;
                    margin-top: 1rem;
                }
                
                .testimonial-card {
                    margin: 0 0.5rem;
                    padding: 1.5rem;
                }
                
                .testimonial-card:hover {
                    transform: translateY(-4px) scale(1.01);
                }
                
                .quote-icon {
                    width: 2rem;
                    height: 2rem;
                }
                
                .testimonial-content {
                    font-size: 0.9rem;
                    line-height: 1.6;
                }
                
                .client-info {
                    flex-direction: column;
                    text-align: center;
                    gap: 0.75rem;
                }
                
                .client-image {
                    width: 3rem;
                    height: 3rem;
                }
                
                .client-details h4 {
                    font-size: 1rem;
                }
                
                .client-details p {
                    font-size: 0.8rem;
                }
                
                .star-rating {
                    justify-content: center;
                }
                
                .star-rating svg {
                    width: 1rem;
                    height: 1rem;
                }
                
                .trust-badge {
                    font-size: 0.75rem;
                    padding: 0.25rem 0.5rem;
                }
                
                .floating-element {
                    display: none;
                }
                
                .swiper-button-next, .swiper-button-prev {
                    width: 2.5rem;
                    height: 2.5rem;
                    margin-top: -1.25rem;
                }
                
                .swiper-button-next {
                    right: 0.5rem;
                }
                
                .swiper-button-prev {
                    left: 0.5rem;
                }
                
                .swiper-pagination {
                    bottom: -2rem;
                }
                
                .ai-features {
                    flex-direction: column;
                    gap: 1rem;
                }
                
                .ai-feature {
                    padding: 0.75rem 1rem;
                    font-size: 0.8rem;
                }
            }
            
            /* Tablet Styles */
            @media (min-width: 641px) and (max-width: 1024px) {
                .testimonials-section {
                    padding: 4rem 2rem;
                }
                
                .section-header h2 {
                    font-size: 2.5rem;
                }
                
                .testimonial-card {
                    margin: 0 0.75rem;
                    padding: 2rem;
                }
                
                .client-info {
                    gap: 1rem;
                }
                
                .client-image {
                    width: 3.5rem;
                    height: 3.5rem;
                }
                
                .floating-element:nth-child(odd) {
                    display: block;
                }
                
                .floating-element:nth-child(even) {
                    display: none;
                }
                
                .swiper-button-next, .swiper-button-prev {
                    width: 3rem;
                    height: 3rem;
                    margin-top: -1.5rem;
                }
                
                .ai-features {
                    gap: 1.5rem;
                }
            }
            
            /* Desktop Styles */
            @media (min-width: 1025px) {
                .testimonials-section {
                    padding: 5rem 3rem;
                }
                
                .section-header {
                    max-width: 800px;
                }
                
                .testimonial-card {
                    margin: 0 1rem;
                    padding: 2.5rem;
                }
                
                .floating-element {
                    display: block;
                }
                
                .swiper-button-next, .swiper-button-prev {
                    width: 3.5rem;
                    height: 3.5rem;
                    margin-top: -1.75rem;
                }
                
                .swiper-button-next {
                    right: 2rem;
                }
                
                .swiper-button-prev {
                    left: 2rem;
                }
            }
            
            /* Large Desktop Styles */
            @media (min-width: 1440px) {
                .testimonials-section {
                    padding: 6rem 4rem;
                }
                
                .section-header h2 {
                    font-size: 3.5rem;
                }
                
                .testimonial-card {
                    margin: 0 1.25rem;
                    padding: 3rem;
                }
                
                .testimonial-content {
                    font-size: 1.125rem;
                    line-height: 1.8;
                }
                
                .client-image {
                    width: 4.5rem;
                    height: 4.5rem;
                }
                
                .swiper-button-next {
                    right: 3rem;
                }
                
                .swiper-button-prev {
                    left: 3rem;
                }
            }
            
            /* Touch Device Optimizations */
            @media (hover: none) and (pointer: coarse) {
                .testimonial-card:hover {
                    transform: none;
                    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
                }
                
                .testimonial-card:active {
                    transform: translateY(-4px) scale(1.01);
                    box-shadow: 0 15px 30px rgba(0,0,0,0.15);
                }
                
                .quote-icon {
                    animation-play-state: paused;
                }
                
                .star-rating:hover svg {
                    transform: none;
                }
                
                .star-rating svg:active {
                    transform: scale(1.1);
                }
                
                .swiper-button-next:hover::before, .swiper-button-prev:hover::before {
                    width: 0;
                    height: 0;
                }
                
                .swiper-button-next:active::before, .swiper-button-prev:active::before {
                    width: 60px;
                    height: 60px;
                }
            }
            
            /* High DPI Display Optimizations */
            @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
                .client-image {
                    image-rendering: -webkit-optimize-contrast;
                    image-rendering: crisp-edges;
                }
                
                .quote-icon svg {
                    shape-rendering: geometricPrecision;
                }
            }
            
            /* Reduced Motion Preferences */
            @media (prefers-reduced-motion: reduce) {
                .testimonial-card {
                    transition: box-shadow 0.2s ease;
                }
                
                .testimonial-card:hover {
                    transform: none;
                }
                
                .quote-icon {
                    animation: none;
                }
                
                .floating-element {
                    animation: none;
                }
                
                .star-rating svg {
                    transition: none;
                }
                
                .swiper-button-next, .swiper-button-prev {
                    transition: background-color 0.2s ease;
                }
                
                .loading-shimmer {
                    animation: none;
                    background: #f0f0f0;
                }
            }
            
            /* Responsive Adjustments */
            @media (max-width: 768px) {
                .swiper-button-next, .swiper-button-prev {
                    width: 40px;
                    height: 40px;
                }
                .swiper-button-next::after, .swiper-button-prev::after {
                    font-size: 14px;
                }
            }
        </style>
        
        <!-- Enhanced Swiper Container -->
        <div class="swiper testimonials-swiper">
            <div class="swiper-wrapper">
                {% for testimonial in testimonials %}
                <div class="swiper-slide">
                    <div class="testimonial-card bg-white rounded-2xl p-8 shadow-lg border border-gray-100 h-full relative overflow-hidden group">
                        <!-- Card Background Pattern -->
                        <div class="absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-full -translate-y-16 translate-x-16 opacity-50 group-hover:opacity-70 transition-opacity duration-500"></div>
                        <div class="absolute bottom-0 left-0 w-24 h-24 bg-gold opacity-10 rounded-full translate-y-12 -translate-x-12 group-hover:opacity-20 transition-opacity duration-500"></div>
                        
                        <!-- Quote Icon -->
                        <div class="absolute top-6 right-6 quote-icon">
                            <div class="w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center">
                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M4.583 17.321C3.553 16.227 3 15 3 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 01-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179zm10 0C13.553 16.227 13 15 13 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 01-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179z"/>
                                </svg>
                            </div>
                        </div>
                        
                        <!-- Client Info Section -->
                        <div class="flex items-center mb-8 relative z-10">
                            <div class="flex-shrink-0 mr-6">
                                {% if testimonial.client_image %}
                                <div class="relative">
                                    <img src="{{ testimonial.client_image }}" alt="{{ testimonial.client_name }}" class="w-20 h-20 rounded-full border-4 border-white shadow-lg" />
                                    <div class="absolute -bottom-2 -right-2 w-8 h-8 bg-green-500 rounded-full border-4 border-white flex items-center justify-center">
                                        <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                                        </svg>
                                    </div>
                                </div>
                                {% else %}
                                <div class="relative">
                                    <div class="w-20 h-20 rounded-full bg-blue-100 border-4 border-white shadow-lg flex items-center justify-center">
                                        <svg class="w-10 h-10 text-blue-600" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                                        </svg>
                                    </div>
                                    <div class="absolute -bottom-2 -right-2 w-8 h-8 bg-green-500 rounded-full border-4 border-white flex items-center justify-center">
                                        <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                                        </svg>
                                    </div>
                                </div>
                                {% endif %}
                            </div>
                            <div class="flex-1">
                                <h4 class="text-xl font-bold text-gray-900 mb-1">{{ testimonial.client_name }}</h4>
                                <p class="text-sm text-gray-600 font-medium">
                                    {% if testimonial.client_position %}{{ testimonial.client_position }}{% endif %}
                                    {% if testimonial.client_position and testimonial.client_company %} â€¢ {% endif %}
                                    {% if testimonial.client_company %}<span class="text-blue-600">{{ testimonial.client_company }}</span>{% endif %}
                                </p>
                            </div>
                        </div>
                        
                        <!-- Rating Section -->
                        <div class="mb-6 relative z-10">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex text-gold star-rating">
                                    {% for i in "12345"|make_list %}
                                        {% if forloop.counter <= testimonial.rating %}
                                        <svg class="w-6 h-6 mr-1" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path>
                                        </svg>
                                        {% else %}
                                        <svg class="w-6 h-6 mr-1 text-gray-300" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path>
                                        </svg>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                                <div class="text-sm text-gray-500 font-medium">{{ testimonial.rating }}/5</div>
                            </div>
                        </div>
                        
                        <!-- Testimonial Content -->
                        <div class="relative z-10">
                            <p class="text-gray-700 text-lg leading-relaxed font-medium italic mb-6">
                                "{{ testimonial.content }}"
                            </p>
                            
                            <!-- Trust Badge -->
                            <div class="flex items-center justify-between pt-4 border-t border-gray-100">
                                <div class="flex items-center text-sm text-gray-500">
                                    <svg class="w-4 h-4 mr-2 text-green-500" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                                    </svg>
                                    Verified Client
                                </div>
                                <div class="text-xs text-gray-400">
                                    {% now "M Y" %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% empty %}
                <!-- Fallback Content for Empty State -->
                <div class="swiper-slide">
                    <div class="testimonial-card bg-white rounded-2xl p-8 shadow-lg border border-gray-100 h-full relative overflow-hidden text-center">
                        <div class="py-12">
                            <div class="w-16 h-16 bg-blue-100 rounded-full mx-auto mb-6 flex items-center justify-center">
                                <svg class="w-8 h-8 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M4.583 17.321C3.553 16.227 3 15 3 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 01-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179zm10 0C13.553 16.227 13 15 13 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 01-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179z"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-bold text-gray-900 mb-4">No Testimonials Yet</h3>
                            <p class="text-gray-600 mb-6">Be the first to share your experience with our services.</p>
                            <div class="text-sm text-gray-500">
                                Add testimonials through the admin panel
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <!-- Enhanced Navigation -->
            <div class="swiper-button-next" aria-label="Next testimonial"></div>
            <div class="swiper-button-prev" aria-label="Previous testimonial"></div>
            
            <!-- Enhanced Pagination -->
            <div class="swiper-pagination" role="tablist" aria-label="Testimonial pagination"></div>
        </div>
        
        <!-- AI-Driven Interactive Features -->
        <div class="mt-16 text-center">
            <div class="inline-flex items-center space-x-4 bg-blue-50 rounded-full px-6 py-3">
                <div class="flex items-center space-x-2">
                    <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                    <span class="text-sm font-medium text-gray-700">Live Testimonials</span>
                </div>
                <div class="w-px h-4 bg-gray-300"></div>
                <div class="flex items-center space-x-2">
                    <svg class="w-4 h-4 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                    </svg>
                    <span class="text-sm font-medium text-gray-700">Verified Reviews</span>
                </div>
            </div>
        </div>
        
        <!-- Enhanced JavaScript with Performance Optimization and WCAG Accessibility -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // Performance Optimization: Debounce function
                function debounce(func, wait) {
                    let timeout;
                    return function executedFunction(...args) {
                        const later = () => {
                            clearTimeout(timeout);
                            func(...args);
                        };
                        clearTimeout(timeout);
                        timeout = setTimeout(later, wait);
                    };
                }
                
                // Performance Optimization: RAF-based animations
                function rafThrottle(func) {
                    let ticking = false;
                    return function(...args) {
                        if (!ticking) {
                            requestAnimationFrame(() => {
                                func.apply(this, args);
                                ticking = false;
                            });
                            ticking = true;
                        }
                    };
                }
                
                // WCAG Accessibility: Keyboard Navigation Support
                function addKeyboardSupport() {
                    document.querySelectorAll('.testimonial-card').forEach((card, index) => {
                        card.setAttribute('tabindex', '0');
                        card.setAttribute('role', 'article');
                        card.setAttribute('aria-label', `Testimonial ${index + 1}`);
                        
                        card.addEventListener('keydown', function(e) {
                            if (e.key === 'Enter' || e.key === ' ') {
                                e.preventDefault();
                                this.click();
                            }
                        });
                    });
                    
                    // Navigation buttons accessibility
                    const nextBtn = document.querySelector('.swiper-button-next');
                    const prevBtn = document.querySelector('.swiper-button-prev');
                    
                    if (nextBtn) {
                        nextBtn.setAttribute('aria-label', 'Next testimonial');
                        nextBtn.setAttribute('role', 'button');
                        nextBtn.setAttribute('tabindex', '0');
                    }
                    
                    if (prevBtn) {
                        prevBtn.setAttribute('aria-label', 'Previous testimonial');
                        prevBtn.setAttribute('role', 'button');
                        prevBtn.setAttribute('tabindex', '0');
                    }
                    
                    // Pagination accessibility
                    document.querySelectorAll('.swiper-pagination-bullet').forEach((bullet, index) => {
                        bullet.setAttribute('aria-label', `Go to testimonial ${index + 1}`);
                        bullet.setAttribute('role', 'button');
                        bullet.setAttribute('tabindex', '0');
                    });
                }
                
                // AI-driven user behavior tracking (Performance Optimized)
                let userInteractionData = {
                    viewTime: 0,
                    interactions: 0,
                    preferredSlideSpeed: 5000,
                    lastInteraction: Date.now()
                };
                
                // Performance monitoring with Resource Hints
                const performanceObserver = new PerformanceObserver((list) => {
                    const entries = list.getEntries();
                    entries.forEach(entry => {
                        if (entry.duration > 16) { // Flag slow operations
                            console.warn('Slow operation detected:', entry.name, entry.duration + 'ms');
                        }
                    });
                });
                
                if ('PerformanceObserver' in window) {
                    performanceObserver.observe({entryTypes: ['measure', 'navigation']});
                }
                
                // Lazy Loading for Images
                function setupLazyLoading() {
                    const images = document.querySelectorAll('.client-image[data-src]');
                    const imageObserver = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                const img = entry.target;
                                img.src = img.dataset.src;
                                img.classList.remove('loading-shimmer');
                                imageObserver.unobserve(img);
                            }
                        });
                    }, { rootMargin: '50px' });
                    
                    images.forEach(img => imageObserver.observe(img));
                }
                
                // Check if Swiper is loaded
                if (typeof Swiper === 'undefined') {
                    // Load Swiper from CDN if not available
                    var swiperScript = document.createElement('script');
                    swiperScript.src = 'https://unpkg.com/swiper/swiper-bundle.min.js';
                    swiperScript.onload = initSwiper;
                    document.head.appendChild(swiperScript);
                    
                    var swiperStyle = document.createElement('link');
                    swiperStyle.rel = 'stylesheet';
                    swiperStyle.href = 'https://unpkg.com/swiper/swiper-bundle.min.css';
                    document.head.appendChild(swiperStyle);
                } else {
                    initSwiper();
                }
                
                function initSwiper() {
                    performance.mark('swiper-init-start');
                    
                    const swiper = new Swiper('.testimonials-swiper', {
                        slidesPerView: 3,
                        spaceBetween: 15,
                        loop: true,
                        centeredSlides: false,
                        grabCursor: true,
                        watchSlidesProgress: true,
                        slideToClickedSlide: true,
                        lazy: {
                            loadPrevNext: true,
                            loadPrevNextAmount: 2
                        },
                        autoplay: {
                            delay: userInteractionData.preferredSlideSpeed,
                            disableOnInteraction: false,
                            pauseOnMouseEnter: true,
                            waitForTransition: true
                        },
                        pagination: {
                            el: '.swiper-pagination',
                            clickable: true,
                            dynamicBullets: true,
                            renderBullet: function (index, className) {
                                return `<span class="${className}" aria-label="Go to slide ${index + 1}" role="button" tabindex="0"></span>`;
                            }
                        },
                        navigation: {
                            nextEl: '.swiper-button-next',
                            prevEl: '.swiper-button-prev',
                        },
                        keyboard: {
                            enabled: true,
                            onlyInViewport: true,
                        },
                        a11y: {
                            enabled: true,
                            prevSlideMessage: 'Previous testimonial',
                            nextSlideMessage: 'Next testimonial',
                            firstSlideMessage: 'This is the first testimonial',
                            lastSlideMessage: 'This is the last testimonial',
                            paginationBulletMessage: 'Go to testimonial {{index}}'
                        },
                        mousewheel: {
                            enabled: false // Disabled for better accessibility
                        },
                        effect: 'coverflow',
                        coverflowEffect: {
                            rotate: 15,
                            stretch: 0,
                            depth: 100,
                            modifier: 1,
                            slideShadows: false,
                        },
                        breakpoints: {
                            640: {
                                slidesPerView: 1,
                                spaceBetween: 20,
                                effect: 'slide',
                                centeredSlides: true
                            },
                            768: {
                                slidesPerView: 2,
                                spaceBetween: 15,
                                effect: 'slide',
                                centeredSlides: false
                            },
                            1024: {
                                slidesPerView: 3,
                                spaceBetween: 15,
                                effect: 'slide',
                                centeredSlides: false
                            },
                        },
                        on: {
                            init: function() {
                                performance.mark('swiper-init-end');
                                performance.measure('swiper-initialization', 'swiper-init-start', 'swiper-init-end');
                                
                                // Initialize AI-driven features
                                initAIFeatures(this);
                                
                                // WCAG: Announce current slide to screen readers
                                const activeSlide = this.slides[this.activeIndex];
                                if (activeSlide) {
                                    activeSlide.setAttribute('aria-live', 'polite');
                                }
                            },
                            slideChange: rafThrottle(function() {
                                userInteractionData.interactions++;
                                userInteractionData.lastInteraction = Date.now();
                                
                                // Performance: AI-driven speed adjustment
                                if (userInteractionData.interactions > 3) {
                                    const avgInteractionTime = userInteractionData.viewTime / userInteractionData.interactions;
                                    if (avgInteractionTime > 8000) {
                                        this.autoplay.delay = 7000; // Slower for engaged users
                                    } else if (avgInteractionTime < 3000) {
                                        this.autoplay.delay = 4000; // Faster for quick browsers
                                    }
                                }
                                
                                // WCAG: Update aria-live for screen readers
                                this.slides.forEach(slide => slide.removeAttribute('aria-live'));
                                const activeSlide = this.slides[this.activeIndex];
                                if (activeSlide) {
                                    activeSlide.setAttribute('aria-live', 'polite');
                                }
                            }),
                            touchStart: function() {
                                userInteractionData.interactions++;
                            }
                        }
                    });
                    
                    // AI-driven personalization features
                    function initAIFeatures(swiperInstance) {
                        // Track user viewing patterns
                        let slideStartTime = Date.now();
                        
                        swiperInstance.on('slideChangeTransitionStart', function() {
                            const viewTime = Date.now() - slideStartTime;
                            userInteractionData.viewTime += viewTime;
                            slideStartTime = Date.now();
                        });
                        
                        // Performance: Intersection Observer for performance optimization
                        const observer = new IntersectionObserver((entries) => {
                            entries.forEach(entry => {
                                if (entry.isIntersecting) {
                                    swiperInstance.autoplay.start();
                                    // Resume animations
                                    document.querySelectorAll('.animate-float, .animate-float-delayed, .animate-float-slow').forEach(el => {
                                        el.style.animationPlayState = 'running';
                                    });
                                } else {
                                    swiperInstance.autoplay.stop();
                                    // Pause animations to save resources
                                    document.querySelectorAll('.animate-float, .animate-float-delayed, .animate-float-slow').forEach(el => {
                                        el.style.animationPlayState = 'paused';
                                    });
                                }
                            });
                        }, { threshold: 0.3 });
                        
                        observer.observe(document.querySelector('.testimonials-swiper'));
                        
                        // WCAG: Reduced motion support
                        const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)');
                        function handleReducedMotion(e) {
                            if (e.matches) {
                                swiperInstance.autoplay.stop();
                                swiperInstance.allowTouchMove = true; // Keep touch for accessibility
                                // Disable CSS animations
                                document.documentElement.style.setProperty('--animation-duration', '0s');
                            } else {
                                swiperInstance.autoplay.start();
                                document.documentElement.style.removeProperty('--animation-duration');
                            }
                        }
                        
                        prefersReducedMotion.addListener(handleReducedMotion);
                        handleReducedMotion(prefersReducedMotion);
                        
                        // Performance: Cleanup on page unload
                        window.addEventListener('beforeunload', () => {
                            observer.disconnect();
                            performanceObserver.disconnect();
                            swiperInstance.destroy(true, true);
                        });
                    }
                    
                    // Performance: Optimized micro-interactions
                    const debouncedCardInteraction = debounce((card, isEntering) => {
                        if (isEntering) {
                            card.style.transform = 'translateY(-8px) scale(1.02)';
                            card.setAttribute('aria-expanded', 'true');
                        } else {
                            card.style.transform = 'translateY(0) scale(1)';
                            card.setAttribute('aria-expanded', 'false');
                        }
                    }, 16);
                    
                    document.querySelectorAll('.testimonial-card').forEach(card => {
                        card.addEventListener('mouseenter', () => debouncedCardInteraction(card, true));
                        card.addEventListener('mouseleave', () => debouncedCardInteraction(card, false));
                        
                        // WCAG: Focus management
                        card.addEventListener('focus', () => {
                            card.style.outline = '3px solid #3b82f6';
                            card.style.outlineOffset = '2px';
                        });
                        
                        card.addEventListener('blur', () => {
                            card.style.outline = 'none';
                        });
                    });
                }
                
                // Initialize all accessibility features
                addKeyboardSupport();
                setupLazyLoading();
                
                // WCAG: Skip link for keyboard users
                const skipLink = document.createElement('a');
                skipLink.href = '#testimonials-end';
                skipLink.textContent = 'Skip testimonials section';
                skipLink.className = 'sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-blue-600 text-white px-4 py-2 rounded z-50';
                document.querySelector('section').prepend(skipLink);
                
                // Add end marker for skip link
                const endMarker = document.createElement('div');
                endMarker.id = 'testimonials-end';
                endMarker.setAttribute('aria-hidden', 'true');
                document.querySelector('section').append(endMarker);
            });
        </script>
    
    </div>
</section>